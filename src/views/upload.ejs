<!DOCTYPE html>
<html lang="en">
<head>
    <%- include("./partials/head") -%>

    <link rel="stylesheet" href="./css/ContextMenu.css"/>


</head>
<body>
    <%- include("./partials/navigation") -%>
    
    <%- include("./partials/coverImg") -%>



    <!-- Sections -->
    <div class="container">
        <div class="row">
            <!-- Book menu -->
            <div class="col-md-3 target-light">
                <div class="d-flex justify-content-center rounded-2 section-title" style="margin-bottom: 20px;">
                    <span><i class="fa-solid fa-book"></i> SÁCH CỦA BẠN</span>
                </div>

                <div id="accordion">
                <% for (let i = 0; i < books.length; i++) { %>
                    <% if (i == 0) {%>
                        <div class="list-group border-book-menu-top">
                    <% } else {%>
                        <div class="list-group border-book-menu-mid">
                    <% } %>
                        <a href="#<%=books[i]._id%>" class="bg-book text-white list-group-item" data-bs-toggle="collapse" data-bs-parent="#accordion"><%=books[i].title%><span class="float-end"><i class="fa-solid fa-caret-down"></i></span></a>
                        <div id="<%=books[i]._id%>" class="collapse">
                            <div class="list-group border-book-menu-mid">
                            <% for (let j = 0; j < books[i].volumes.length; j++) { %>
                                <a href="#<%=books[i].volumes[j]._id%>" class="bg-volume list-group-item collapsed" data-bs-toggle="collapse" data-bs-parent="#<%=books[i]._id%>"><%=books[i].volumes[j].volName%><span class="float-end"><i class="fa-solid fa-caret-down"></i></span></a>
                                <div id="<%=books[i].volumes[j]._id%>" class="collapse">
                                    <div class="list-group border-book-menu-mid">
                                    <% for (let k = 0; k < books[i].volumes[j].chapters.length; k++) { %>
                                        <a href="#<%=books[i].volumes[j].chapters[k]._id%>" class="list-group-item collapsed" data-bs-toggle="collapse" data-bs-parent="#<%=books[i].volumes[j]._id%>">
                                            <span class=""><i class="fa-solid fa-caret-right"></i></span> <%=books[i].volumes[j].chapters[k].chapName%>
                                        </a>
                                        <div id="<%=books[i].volumes[j].chapters[k]._id%>" class="collapse"></div>
                                    <%}%>
                                    </div>
                                </div>
                            <%}%>
                            </div>
                        </div>
                    </div>
                <%}%>
                </div>
                

            </div>
            <%- include("./partials/uploadBook") -%>
            
            
        </div>
    </div>

    <script src="./js/ContextMenu.js"></script>
    <script src="./js/initContext.js"></script>
    <%- include("./partials/footer") -%>
</body>
</html>

    


